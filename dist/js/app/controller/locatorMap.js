define([],function(){return window.storeMap={map:null,infoWindow:null,markers:[]},storeMap.createMarker=function(e,o,n){var t,a,r=document.createElement("canvas");"undefined"===$.type(o)&&(o=""),r.width=34,r.height=50,a=r.getContext("2d"),a.arc(17,17,9,0,2*Math.PI),a.fillStyle="white",a.fill(),a.font="57.5px FontAwesome",a.fillStyle="#f15441",a.fillText("ÔÅÅ",0,46),a.font='10px "Myriad Pro"',a.fillStyle="#ce1126",a.fillText(o,16-5*o.length/2,20),t=new google.maps.Marker({map:storeMap.map,position:e,icon:{url:r.toDataURL("image/png"),size:new google.maps.Size(34,50),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,50),labelOrigin:new google.maps.Point(17,17)},shape:{coords:[17,0,5,5,0,16,8,37,17,50,25,37,34,16,22,5],type:"poly"}}),n&&google.maps.event.addListener(t,"click",function(){var e="<b>"+n.name+"</b> <br/>"+n.address1+"<br/>"+n.address2+"<br/>"+n.city+", "+n.state+" "+n.zipCode+"<br/>"+n.tel;storeMap.infoWindow.setContent(e),storeMap.infoWindow.open(storeMap.map,t)}),storeMap.markers.push(t)},storeMap.clearLocations=function(){for(var e=0;e<storeMap.markers.length;e++)storeMap.markers[e].setMap(null);storeMap.markers.length=0,storeMap.infoWindow&&storeMap.infoWindow.close()},window.initMap=function(){var e=document.getElementById("locatorMap"),o=new google.maps.LatLng(30.543533,104.043466),n={name:"Marching Printing",address1:"Fuhua S Rd No.1606",address2:"",city:"Chengdu",state:"Sichuan",zipCode:"610000",tel:""};return new google.maps.LatLngBounds,null===e?!1:(storeMap.infoWindow=new google.maps.InfoWindow,storeMap.map=new google.maps.Map(e),void(navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){storeMap.map.setOptions({center:new google.maps.LatLng(e.coords.latitude,e.coords.longitude),zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP}),storeMap.createMarker(o,"P",n),storeMap.setCenter(o)},function(e){storeMap.map.setOptions({center:o,zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP}),console.log(e),storeMap.createMarker(o,"P",n)})))},require({urlArgs:""},["googleMap"],function(){},function(e){"googleMap"===(e.requireModules&&e.requireModules[0])&&$("#locatorMap").next().removeClass("hidden").end().remove()}),storeMap});
define([],function(){return window.storeMap={map:null,infoWindow:null,markers:[]},storeMap.createMarker=function(e,t,n){var r,i,s=document.createElement("canvas");"undefined"===$.type(t)&&(t=""),s.width=34,s.height=50,i=s.getContext("2d"),i.arc(17,17,9,0,2*Math.PI),i.fillStyle="white",i.fill(),i.font="57.5px FontAwesome",i.fillStyle="#f15441",i.fillText("ÔÅÅ",0,46),i.font='10px "Myriad Pro"',i.fillStyle="#ce1126",i.fillText(t,16-5*t.length/2,20),r=new google.maps.Marker({map:storeMap.map,position:e,icon:{url:s.toDataURL("image/png"),size:new google.maps.Size(34,50),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,50),labelOrigin:new google.maps.Point(17,17)},shape:{coords:[17,0,5,5,0,16,8,37,17,50,25,37,34,16,22,5],type:"poly"}}),n&&google.maps.event.addListener(r,"click",function(){var e="<b>"+n.name+"</b> <br/>"+n.address1+"<br/>"+n.address2+"<br/>"+n.city+", "+n.state+" "+n.zipCode+"<br/>"+n.tel;storeMap.infoWindow.setContent(e),storeMap.infoWindow.open(storeMap.map,r)}),storeMap.markers.push(r)},storeMap.clearLocations=function(){for(var e=0;e<storeMap.markers.length;e++)storeMap.markers[e].setMap(null);storeMap.markers.length=0,storeMap.infoWindow&&storeMap.infoWindow.close()},window.initMap=function(){var e=document.getElementById("locatorMap"),t=new google.maps.LatLng(30.543533,104.043466),n={name:"Marching Printing",address1:"Fuhua S Rd No.1606",address2:"",city:"Chengdu",state:"Sichuan",zipCode:"610000",tel:""};return new google.maps.LatLngBounds,null===e?!1:(storeMap.infoWindow=new google.maps.InfoWindow,storeMap.map=new google.maps.Map(e),void (navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){storeMap.map.setOptions({center:new google.maps.LatLng(e.coords.latitude,e.coords.longitude),zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP}),storeMap.createMarker(t,"P",n),storeMap.setCenter(t)},function(e){storeMap.map.setOptions({center:t,zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP}),console.log(e),storeMap.createMarker(t,"P",n)})))},require({urlArgs:""},["googleMap"],function(){},function(e){"googleMap"===(e.requireModules&&e.requireModules[0])&&$("#locatorMap").next().removeClass("hidden").end().remove()}),storeMap});
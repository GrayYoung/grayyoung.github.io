!function(e,t){"use strict";"function"==typeof define&&define.amd?define("ajax",t):"object"==typeof exports?exports=module.exports=t():(e.Ajax=t(),e.ajax=t())}(this,function(){"use strict";function e(t){void 0!==this&&console.warn(["Instance with `new` is deprecated. ","This will be removed in `v2.0.0` version."].join("")),this instanceof e&&console.warn(["Ajax constructor is deprecated. This will be removed in ","`v2.0.0`. Use ajax (lowercase version) without `new` ","keyword instead"].join("")),t=t||{};var n={},r={};return r.methods={then:function(){},"catch":function(){},always:function(){},done:function(){},error:function(){}},r.maybeData=function(e){return e||null},r.httpMethods=["get","post","put","delete"],r.httpMethods.forEach(function(e){n[e]=function(n,i){return r.xhrConnection(e,n,r.maybeData(i),t)}}),r.xhrConnection=function(e,t,n,i){var s=new XMLHttpRequest;return s.open(e,t||"",!0),r.setHeaders(s,i.headers),s.addEventListener("readystatechange",r.ready,!1),s.send(r.objectToQueryString(n)),r.promises()},r.setHeaders=function(e,t){t=t||{},r.hasContentType(t)||(t["Content-Type"]="application/x-www-form-urlencoded"),Object.keys(t).forEach(function(n){t[n]&&e.setRequestHeader(n,t[n])})},r.hasContentType=function(e){return Object.keys(e).some(function(e){return"content-type"===e.toLowerCase()})},r.ready=function(){var e=this;e.readyState===e.DONE&&(e.removeEventListener("readystatechange",r.ready,!1),r.methods.always.apply(r.methods,r.parseResponse(e)),e.status>=200&&e.status<300?(r.methods.then.apply(r.methods,r.parseResponse(e)),r.methods.done.apply(r.methods,r.parseResponse(e))):(r.methods["catch"].apply(r.methods,r.parseResponse(e)),r.methods.error.apply(r.methods,r.parseResponse(e))))},r.parseResponse=function(e){var t;try{t=JSON.parse(e.responseText)}catch(n){t=e.responseText}return[t,e]},r.promises=function(){var e={};return Object.keys(r.methods).forEach(function(t){e[t]=r.generatePromise.call(this,t)},this),e},r.generatePromise=function(e){return function(t){return r.generateDeprecatedMessage(e),r.methods[e]=t,this}},r.generateDeprecatedMessage=function(e){var t="@fdaciuk/ajax: `%s` is deprecated and will be removed in v2.0.0. Use `%s` instead.";switch(e){case"done":console.warn(t,"done","then");break;case"error":console.warn(t,"error","catch")}},r.objectToQueryString=function(e){return r.isObject(e)?r.getQueryString(e):e},r.getQueryString=function(e){return Object.keys(e).map(function(t){return[encodeURIComponent(t),"=",encodeURIComponent(e[t])].join("")}).join("&")},r.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.method&&t.url?r.xhrConnection(t.method,t.url,r.maybeData(t.data),t):n}return e});
require(["./config"],function(config){require(["app/controller/global","app/controller/locatorMap"])});define("../printing",function(){});define("app/model/util",{getUrlParam:function(name,ignoreCase){var r="";r=function(name){var pattern=new RegExp("(^|&)"+name+"=([^&]*)(&|$)");ignoreCase===!0&&(pattern=new RegExp("(^|&)"+name+"=([^&]*)(&|$)","i"));return location.search.substr(1).match(pattern)}(name);return null!=r?unescape(r[2]):""},throttle:function(method,context){clearTimeout(method.timeoutId);method.timeoutId=setTimeout(function(){method.call(context)},100)}});define("app/model/requests",{imdb:"http://www.omdbapi.com/",media:"/data/media.xlsx",work:"/data/work.xlsx"});define("app/controller/global",["app/model/requests","jquery","bootstrap","browser"],function(requests,$){$(document).ready(function(){$("#progressBar").toggleClass("active",!1);$.browser.msie?$("#tip-browser").removeClass("hidden"):$("#tip-browser").remove()});!function(i,s,o,g,r,a,m){i.GoogleAnalyticsObject=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date;a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)}(window,document,"script","//www.google-analytics.com/analytics.js","ga");ga("create","UA-51330074-5","auto");ga("require","linkid");ga("send","pageview")});define("app/controller/locatorMap",[],function(){window.storeMap={map:null,infoWindow:null,markers:[]};storeMap.createMarker=function(latlng,labelText,marker){var gMarker,context,canvas=document.createElement("canvas");"undefined"===$.type(labelText)&&(labelText="");canvas.width=34,canvas.height=50;context=canvas.getContext("2d");context.arc(17,17,9,0,2*Math.PI);context.fillStyle="white";context.fill();context.font="57.5px FontAwesome";context.fillStyle="#f15441";context.fillText("ÔÅÅ",0,46);context.font='10px "Myriad Pro"';context.fillStyle="#ce1126";context.fillText(labelText,16-5*labelText.length/2,20);gMarker=new google.maps.Marker({map:storeMap.map,position:latlng,icon:{url:canvas.toDataURL("image/png"),size:new google.maps.Size(34,50),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,50),labelOrigin:new google.maps.Point(17,17)},shape:{coords:[17,0,5,5,0,16,8,37,17,50,25,37,34,16,22,5],type:"poly"}});marker&&google.maps.event.addListener(gMarker,"click",function(){var html="<b>"+marker.name+"</b> <br/>"+marker.address1+"<br/>"+marker.address2+"<br/>"+marker.city+", "+marker.state+" "+marker.zipCode+"<br/>"+marker.tel;storeMap.infoWindow.setContent(html);storeMap.infoWindow.open(storeMap.map,gMarker)});storeMap.markers.push(gMarker)};storeMap.clearLocations=function(){for(var i=0;i<storeMap.markers.length;i++)storeMap.markers[i].setMap(null);storeMap.markers.length=0;storeMap.infoWindow&&storeMap.infoWindow.close()};window.initMap=function(){var eLocatorMap=document.getElementById("locatorMap"),latlng=new google.maps.LatLng(30.543533,104.043466),locator={name:"Marching Printing",address1:"Fuhua S Rd No.1606",address2:"",city:"Chengdu",state:"Sichuan",zipCode:"610000",tel:""};new google.maps.LatLngBounds;if(null===eLocatorMap)return!1;storeMap.infoWindow=new google.maps.InfoWindow;storeMap.map=new google.maps.Map(eLocatorMap);navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(position){storeMap.map.setOptions({center:new google.maps.LatLng(position.coords.latitude,position.coords.longitude),zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP});storeMap.createMarker(latlng,"P",locator);storeMap.setCenter(latlng)},function(positionError){storeMap.map.setOptions({center:latlng,zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP});console.log(positionError);storeMap.createMarker(latlng,"P",locator)})};require({urlArgs:""},["googleMap"],function(){},function(error){"googleMap"===(error.requireModules&&error.requireModules[0])&&$("#locatorMap").next().removeClass("hidden").end().remove()});return storeMap});